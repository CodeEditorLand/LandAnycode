var TreeSitter=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(t){var r,n,s=void 0!==(t=t||{})?t:{};s.ready=new Promise(function(e,t){r=e,n=t});var _,a={};for(_ in s)s.hasOwnProperty(_)&&(a[_]=s[_]);var i,o,u=[],l="./this.program",c=function(e,t){throw t},d=!1,m=!1;d="object"==typeof window,m="function"==typeof importScripts,i="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,o=!d&&!i&&!m;var f,p,h,g,w,y="";i?(y=m?require("path").dirname(y)+"/":__dirname+"/",f=function(e,t){return g||(g=require("fs")),w||(w=require("path")),e=w.normalize(e),g.readFileSync(e,t?null:"utf8")},h=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),R(t.buffer),t},process.argv.length>1&&(l=process.argv[1].replace(/\\/g,"/")),u=process.argv.slice(2),c=function(e){process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"}):o?("undefined"!=typeof read&&(f=function(e){return read(e)}),h=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(R("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:void 0!==arguments&&(u=arguments),"function"==typeof quit&&(c=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(d||m)&&(m?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),e&&(y=e),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});s.print||console.log.bind(console);var b=s.printErr||console.warn.bind(console);for(_ in a)a.hasOwnProperty(_)&&(s[_]=a[_]);a=null,s.arguments&&(u=s.arguments),s.thisProgram&&(l=s.thisProgram),s.quit&&(c=s.quit);var v=16;var E,I=[];function S(e,t){if(!E){E=new WeakMap;for(var r=0;r<Q.length;r++){var n=Q.get(r);n&&E.set(n,r)}}if(E.has(e))return E.get(e);var s=function(){if(I.length)return I.pop();try{Q.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return Q.length-1}();try{Q.set(s,e)}catch(r){if(!(r instanceof TypeError))throw r;var _=function(e,t){if("function"==typeof WebAssembly.Function){for(var r={i:"i32",j:"i64",f:"f32",d:"f64"},n={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},s=1;s<t.length;++s)n.parameters.push(r[t[s]]);return new WebAssembly.Function(n,e)}var _=[1,0,1,96],a=t.slice(0,1),i=t.slice(1),o={i:127,j:126,f:125,d:124};for(_.push(i.length),s=0;s<i.length;++s)_.push(o[i[s]]);"v"==a?_.push(0):_=_.concat([1,o[a]]),_[1]=_.length-2;var u=new Uint8Array([0,97,115,109,1,0,0,0].concat(_,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(u);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);Q.set(s,_)}return E.set(e,s),s}var A,x=function(e){e},N=s.dynamicLibraries||[];s.wasmBinary&&(A=s.wasmBinary);var P,k=s.noExitRuntime||!0;function C(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":M[e>>0]=t;break;case"i16":F[e>>1]=t;break;case"i32":$[e>>2]=t;break;case"i64":de=[t>>>0,(ce=t,+Math.abs(ce)>=1?ce>0?(0|Math.min(+Math.floor(ce/4294967296),4294967295))>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],$[e>>2]=de[0],$[e+4>>2]=de[1];break;case"float":O[e>>2]=t;break;case"double":j[e>>3]=t;break;default:oe("invalid type for setValue: "+r)}}function q(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return M[e>>0];case"i16":return F[e>>1];case"i32":case"i64":return $[e>>2];case"float":return O[e>>2];case"double":return j[e>>3];default:oe("invalid type for getValue: "+t)}return null}"object"!=typeof WebAssembly&&oe("no native wasm support detected");var T=!1;function R(e,t){e||oe("Assertion failed: "+t)}var L=1;var W,M,Z,F,$,O,j,U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(e,t,r){for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.subarray&&U)return U.decode(e.subarray(t,s));for(var _="";t<s;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var o=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])<65536)_+=String.fromCharCode(a);else{var u=a-65536;_+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else _+=String.fromCharCode((31&a)<<6|i)}else _+=String.fromCharCode(a)}return _}function z(e,t){return e?D(Z,e,t):""}function G(e,t,r,n){if(!(n>0))return 0;for(var s=r,_=r+n-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a);if(i<=127){if(r>=_)break;t[r++]=i}else if(i<=2047){if(r+1>=_)break;t[r++]=192|i>>6,t[r++]=128|63&i}else if(i<=65535){if(r+2>=_)break;t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i}else{if(r+3>=_)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i}}return t[r]=0,r-s}function H(e,t,r){return G(e,Z,t,r)}function B(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function K(e){var t=B(e)+1,r=Ke(t);return G(e,M,r,t),r}function V(e){W=e,s.HEAP8=M=new Int8Array(e),s.HEAP16=F=new Int16Array(e),s.HEAP32=$=new Int32Array(e),s.HEAPU8=Z=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=O=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}var X=s.INITIAL_MEMORY||33554432;(P=s.wasmMemory?s.wasmMemory:new WebAssembly.Memory({initial:X/65536,maximum:32768}))&&(W=P.buffer),X=W.byteLength,V(W);var Q=new WebAssembly.Table({initial:13,element:"anyfunc"}),Y=[],J=[],ee=[],te=[],re=!1;var ne=0,se=null,_e=null;function ae(e){ne++,s.monitorRunDependencies&&s.monitorRunDependencies(ne)}function ie(e){if(ne--,s.monitorRunDependencies&&s.monitorRunDependencies(ne),0==ne&&(null!==se&&(clearInterval(se),se=null),_e)){var t=_e;_e=null,t()}}function oe(e){s.onAbort&&s.onAbort(e),b(e+=""),T=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}s.preloadedImages={},s.preloadedAudios={},s.preloadedWasm={};var ue,le,ce,de,me="data:application/octet-stream;base64,";function fe(e){return e.startsWith(me)}function pe(e){return e.startsWith("file://")}function he(e){try{if(e==ue&&A)return new Uint8Array(A);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){oe(e)}}fe(ue="tree-sitter.wasm")||(le=ue,ue=s.locateFile?s.locateFile(le,y):y+le);var ge={},we={get:function(e,t){return ge[t]||(ge[t]=new WebAssembly.Global({value:"i32",mutable:!0})),ge[t]}};function ye(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Q.get(r)():Q.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(s)}}function be(e){var t=0;function r(){for(var r=0,n=1;;){var s=e[t++];if(r+=(127&s)*n,n*=128,!(128&s))break}return r}if(e instanceof WebAssembly.Module){var n=WebAssembly.Module.customSections(e,"dylink");R(0!=n.length,"need dylink section"),e=new Int8Array(n[0])}else{R(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),R(0===e[8],"need the dylink section to be first"),t=9,r(),R(6===e[t]),R(e[++t]==="d".charCodeAt(0)),R(e[++t]==="y".charCodeAt(0)),R(e[++t]==="l".charCodeAt(0)),R(e[++t]==="i".charCodeAt(0)),R(e[++t]==="n".charCodeAt(0)),R(e[++t]==="k".charCodeAt(0)),t++}var s={};s.memorySize=r(),s.memoryAlign=r(),s.tableSize=r(),s.tableAlign=r();var _=r();s.neededDynlibs=[];for(var a=0;a<_;++a){var i=r(),o=e.subarray(t,t+i);t+=i;var u=D(o,0);s.neededDynlibs.push(u)}return s}var ve=0;function Ee(){return k||ve>0}function Ie(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore"].includes(e)?e:"_"+e}function Se(e,t){for(var r in e)if(e.hasOwnProperty(r)){De.hasOwnProperty(r)||(De[r]=e[r]);var n=Ie(r);s.hasOwnProperty(n)||(s[n]=e[r])}}var Ae={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function xe(e,t,r){return e.includes("j")?function(e,t,r){var n=s["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):Q.get(t).apply(null,r)}var Ne=5250816;function Pe(e){return["__cpp_exception","__wasm_apply_data_relocs","__dso_handle","__set_stack_limits"].includes(e)}function ke(e,t){var r={};for(var n in e){var s=e[n];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=t),r[n]=s}return function(e){for(var t in e)if(!Pe(t)){var r=!1,n=e[t];t.startsWith("orig$")&&(t=t.split("$")[1],r=!0),ge[t]||(ge[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(r||0==ge[t].value)&&("function"==typeof n?ge[t].value=S(n):"number"==typeof n?ge[t].value=n:b("unhandled export type for `"+t+"`: "+typeof n))}}(r),r}function Ce(e,t){var r,n;return t&&(r=De["orig$"+e]),r||(r=De[e]),r||(r=s[Ie(e)]),!r&&e.startsWith("invoke_")&&(n=e.split("_")[1],r=function(){var e=He();try{return xe(n,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(Be(e),t!==t+0&&"longjmp"!==t)throw t;Ve(1,0)}}),r}function qe(e,t){var r=be(e);function n(){var n=Math.pow(2,r.memoryAlign);n=Math.max(n,v);var s,_,a,i=(s=function(e){if(re)return ze(e);var t=Ne,r=t+e+15&-16;return Ne=r,ge.__heap_base.value=r,t}(r.memorySize+n),(_=n)||(_=v),Math.ceil(s/_)*_),o=Q.length;Q.grow(r.tableSize);for(var u=i;u<i+r.memorySize;u++)M[u]=0;for(u=o;u<o+r.tableSize;u++)Q.set(u,null);var l=new Proxy({},{get:function(e,t){switch(t){case"__memory_base":return i;case"__table_base":return o}if(t in De)return De[t];var r;t in e||(e[t]=function(){return r||(r=function(e){var t=Ce(e,!1);return t||(t=a[e]),t}(t)),r.apply(null,arguments)});return e[t]}}),c={"GOT.mem":new Proxy({},we),"GOT.func":new Proxy({},we),env:l,wasi_snapshot_preview1:l};function d(e){for(var n=0;n<r.tableSize;n++){var s=Q.get(o+n);s&&E.set(s,o+n)}a=ke(e.exports,i),t.allowUndefined||Re();var _=a.__wasm_call_ctors;return _||(_=a.__post_instantiate),_&&(re?_():J.push(_)),a}if(t.loadAsync){if(e instanceof WebAssembly.Module){var m=new WebAssembly.Instance(e,c);return Promise.resolve(d(m))}return WebAssembly.instantiate(e,c).then(function(e){return d(e.instance)})}var f=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return d(m=new WebAssembly.Instance(f,c))}return t.loadAsync?r.neededDynlibs.reduce(function(e,r){return e.then(function(){return Te(r,t)})},Promise.resolve()).then(function(){return n()}):(r.neededDynlibs.forEach(function(e){Te(e,t)}),n())}function Te(e,t){"__main__"!=e||Ae.loadedLibNames[e]||(Ae.loadedLibs[-1]={refcount:1/0,name:"__main__",module:s.asm,global:!0},Ae.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var r,n=Ae.loadedLibNames[e];if(n)return r=Ae.loadedLibs[n],t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&Se(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,t.loadAsync?Promise.resolve(n):n;function _(e){if(t.fs){var r=t.fs.readFile(e,{encoding:"binary"});return r instanceof Uint8Array||(r=new Uint8Array(r)),t.loadAsync?Promise.resolve(r):r}return t.loadAsync?(n=e,fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load binary file at '"+n+"'";return e.arrayBuffer()}).then(function(e){return new Uint8Array(e)})):h(e);var n}function a(){if(void 0!==s.preloadedWasm&&void 0!==s.preloadedWasm[e]){var r=s.preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?_(e).then(function(e){return qe(e,t)}):qe(_(e),t)}function i(e){r.global&&Se(e),r.module=e}return n=Ae.nextHandle++,r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},Ae.loadedLibNames[e]=n,Ae.loadedLibs[n]=r,t.loadAsync?a().then(function(e){return i(e),n}):(i(a()),n)}function Re(){for(var e in ge)if(0==ge[e].value){var t=Ce(e,!0);"function"==typeof t?ge[e].value=S(t,t.sig):"number"==typeof t?ge[e].value=t:R(!1,"bad export type for `"+e+"`: "+typeof t)}}s.___heap_base=Ne;var Le,We=new WebAssembly.Global({value:"i32",mutable:!0},5250816);function Me(){oe()}s._abort=Me,Me.sig="v",Le=i?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var Ze=!0;function Fe(e,t){var r,n;if(0===e)r=Date.now();else{if(1!==e&&4!==e||!Ze)return n=28,$[Ge()>>2]=n,-1;r=Le()}return $[t>>2]=r/1e3|0,$[t+4>>2]=r%1e3*1e3*1e3|0,0}function $e(e){try{return P.grow(e-W.byteLength+65535>>>16),V(P.buffer),1}catch(e){}}function Oe(e){Je(e)}function je(e){x(e)}Fe.sig="iii",Oe.sig="vi",je.sig="vi";var Ue,De={__heap_base:Ne,__indirect_function_table:Q,__memory_base:1024,__stack_pointer:We,__table_base:1,abort:Me,clock_gettime:Fe,emscripten_memcpy_big:function(e,t,r){Z.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t,r,n=Z.length;if((e>>>=0)>2147483648)return!1;for(var s=1;s<=4;s*=2){var _=n*(1+.2/s);if(_=Math.min(_,e+100663296),$e(Math.min(2147483648,((t=Math.max(e,_))%(r=65536)>0&&(t+=r-t%r),t))))return!0}return!1},exit:Oe,memory:P,setTempRet0:je,tree_sitter_log_callback:function(e,t){if(ht){const r=z(t);ht(r,0!==e)}},tree_sitter_parse_callback:function(e,t,r,n,s){var _=pt(t,{row:r,column:n});"string"==typeof _?(C(s,_.length,"i32"),function(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=(r-=2)<2*e.length?r/2:e.length,s=0;s<n;++s){var _=e.charCodeAt(s);F[t>>1]=_,t+=2}F[t>>1]=0}(_,e,10240)):C(s,0,"i32")}},ze=(function(){var e={env:De,wasi_snapshot_preview1:De,"GOT.mem":new Proxy(De,we),"GOT.func":new Proxy(De,we)};function t(e,t){var r=e.exports;r=ke(r,1024),s.asm=r;var n,_=be(t);_.neededDynlibs&&(N=_.neededDynlibs.concat(N)),Se(r),n=s.asm.__wasm_call_ctors,J.unshift(n),ie()}function r(e){t(e.instance,e.module)}function _(t){return function(){if(!A&&(d||m)){if("function"==typeof fetch&&!pe(ue))return fetch(ue,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ue+"'";return e.arrayBuffer()}).catch(function(){return he(ue)});if(p)return new Promise(function(e,t){p(ue,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return he(ue)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){b("failed to asynchronously prepare wasm: "+e),oe(e)})}if(ae(),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(A||"function"!=typeof WebAssembly.instantiateStreaming||fe(ue)||pe(ue)||"function"!=typeof fetch?_(r):fetch(ue,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),_(r)})})).catch(n)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s._malloc=function(){return(ze=s._malloc=s.asm.malloc).apply(null,arguments)}),Ge=(s._ts_language_symbol_count=function(){return(s._ts_language_symbol_count=s.asm.ts_language_symbol_count).apply(null,arguments)},s._ts_language_version=function(){return(s._ts_language_version=s.asm.ts_language_version).apply(null,arguments)},s._ts_language_field_count=function(){return(s._ts_language_field_count=s.asm.ts_language_field_count).apply(null,arguments)},s._ts_language_symbol_name=function(){return(s._ts_language_symbol_name=s.asm.ts_language_symbol_name).apply(null,arguments)},s._ts_language_symbol_for_name=function(){return(s._ts_language_symbol_for_name=s.asm.ts_language_symbol_for_name).apply(null,arguments)},s._ts_language_symbol_type=function(){return(s._ts_language_symbol_type=s.asm.ts_language_symbol_type).apply(null,arguments)},s._ts_language_field_name_for_id=function(){return(s._ts_language_field_name_for_id=s.asm.ts_language_field_name_for_id).apply(null,arguments)},s._memcpy=function(){return(s._memcpy=s.asm.memcpy).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s._calloc=function(){return(s._calloc=s.asm.calloc).apply(null,arguments)},s._ts_parser_delete=function(){return(s._ts_parser_delete=s.asm.ts_parser_delete).apply(null,arguments)},s._ts_parser_reset=function(){return(s._ts_parser_reset=s.asm.ts_parser_reset).apply(null,arguments)},s._ts_parser_set_language=function(){return(s._ts_parser_set_language=s.asm.ts_parser_set_language).apply(null,arguments)},s._ts_parser_timeout_micros=function(){return(s._ts_parser_timeout_micros=s.asm.ts_parser_timeout_micros).apply(null,arguments)},s._ts_parser_set_timeout_micros=function(){return(s._ts_parser_set_timeout_micros=s.asm.ts_parser_set_timeout_micros).apply(null,arguments)},s._memcmp=function(){return(s._memcmp=s.asm.memcmp).apply(null,arguments)},s._ts_query_new=function(){return(s._ts_query_new=s.asm.ts_query_new).apply(null,arguments)},s._ts_query_delete=function(){return(s._ts_query_delete=s.asm.ts_query_delete).apply(null,arguments)},s._iswspace=function(){return(s._iswspace=s.asm.iswspace).apply(null,arguments)},s._iswalnum=function(){return(s._iswalnum=s.asm.iswalnum).apply(null,arguments)},s._ts_query_pattern_count=function(){return(s._ts_query_pattern_count=s.asm.ts_query_pattern_count).apply(null,arguments)},s._ts_query_capture_count=function(){return(s._ts_query_capture_count=s.asm.ts_query_capture_count).apply(null,arguments)},s._ts_query_string_count=function(){return(s._ts_query_string_count=s.asm.ts_query_string_count).apply(null,arguments)},s._ts_query_capture_name_for_id=function(){return(s._ts_query_capture_name_for_id=s.asm.ts_query_capture_name_for_id).apply(null,arguments)},s._ts_query_string_value_for_id=function(){return(s._ts_query_string_value_for_id=s.asm.ts_query_string_value_for_id).apply(null,arguments)},s._ts_query_predicates_for_pattern=function(){return(s._ts_query_predicates_for_pattern=s.asm.ts_query_predicates_for_pattern).apply(null,arguments)},s._ts_tree_copy=function(){return(s._ts_tree_copy=s.asm.ts_tree_copy).apply(null,arguments)},s._ts_tree_delete=function(){return(s._ts_tree_delete=s.asm.ts_tree_delete).apply(null,arguments)},s._ts_init=function(){return(s._ts_init=s.asm.ts_init).apply(null,arguments)},s._ts_parser_new_wasm=function(){return(s._ts_parser_new_wasm=s.asm.ts_parser_new_wasm).apply(null,arguments)},s._ts_parser_enable_logger_wasm=function(){return(s._ts_parser_enable_logger_wasm=s.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},s._ts_parser_parse_wasm=function(){return(s._ts_parser_parse_wasm=s.asm.ts_parser_parse_wasm).apply(null,arguments)},s._ts_language_type_is_named_wasm=function(){return(s._ts_language_type_is_named_wasm=s.asm.ts_language_type_is_named_wasm).apply(null,arguments)},s._ts_language_type_is_visible_wasm=function(){return(s._ts_language_type_is_visible_wasm=s.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},s._ts_tree_root_node_wasm=function(){return(s._ts_tree_root_node_wasm=s.asm.ts_tree_root_node_wasm).apply(null,arguments)},s._ts_tree_edit_wasm=function(){return(s._ts_tree_edit_wasm=s.asm.ts_tree_edit_wasm).apply(null,arguments)},s._ts_tree_get_changed_ranges_wasm=function(){return(s._ts_tree_get_changed_ranges_wasm=s.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},s._ts_tree_cursor_new_wasm=function(){return(s._ts_tree_cursor_new_wasm=s.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},s._ts_tree_cursor_delete_wasm=function(){return(s._ts_tree_cursor_delete_wasm=s.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},s._ts_tree_cursor_reset_wasm=function(){return(s._ts_tree_cursor_reset_wasm=s.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_first_child_wasm=function(){return(s._ts_tree_cursor_goto_first_child_wasm=s.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_next_sibling_wasm=function(){return(s._ts_tree_cursor_goto_next_sibling_wasm=s.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_parent_wasm=function(){return(s._ts_tree_cursor_goto_parent_wasm=s.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_type_id_wasm=function(){return(s._ts_tree_cursor_current_node_type_id_wasm=s.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_is_named_wasm=function(){return(s._ts_tree_cursor_current_node_is_named_wasm=s.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_is_missing_wasm=function(){return(s._ts_tree_cursor_current_node_is_missing_wasm=s.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_id_wasm=function(){return(s._ts_tree_cursor_current_node_id_wasm=s.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},s._ts_tree_cursor_start_position_wasm=function(){return(s._ts_tree_cursor_start_position_wasm=s.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},s._ts_tree_cursor_end_position_wasm=function(){return(s._ts_tree_cursor_end_position_wasm=s.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},s._ts_tree_cursor_start_index_wasm=function(){return(s._ts_tree_cursor_start_index_wasm=s.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},s._ts_tree_cursor_end_index_wasm=function(){return(s._ts_tree_cursor_end_index_wasm=s.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},s._ts_tree_cursor_current_field_id_wasm=function(){return(s._ts_tree_cursor_current_field_id_wasm=s.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_wasm=function(){return(s._ts_tree_cursor_current_node_wasm=s.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},s._ts_node_symbol_wasm=function(){return(s._ts_node_symbol_wasm=s.asm.ts_node_symbol_wasm).apply(null,arguments)},s._ts_node_child_count_wasm=function(){return(s._ts_node_child_count_wasm=s.asm.ts_node_child_count_wasm).apply(null,arguments)},s._ts_node_named_child_count_wasm=function(){return(s._ts_node_named_child_count_wasm=s.asm.ts_node_named_child_count_wasm).apply(null,arguments)},s._ts_node_child_wasm=function(){return(s._ts_node_child_wasm=s.asm.ts_node_child_wasm).apply(null,arguments)},s._ts_node_named_child_wasm=function(){return(s._ts_node_named_child_wasm=s.asm.ts_node_named_child_wasm).apply(null,arguments)},s._ts_node_child_by_field_id_wasm=function(){return(s._ts_node_child_by_field_id_wasm=s.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},s._ts_node_next_sibling_wasm=function(){return(s._ts_node_next_sibling_wasm=s.asm.ts_node_next_sibling_wasm).apply(null,arguments)},s._ts_node_prev_sibling_wasm=function(){return(s._ts_node_prev_sibling_wasm=s.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},s._ts_node_next_named_sibling_wasm=function(){return(s._ts_node_next_named_sibling_wasm=s.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},s._ts_node_prev_named_sibling_wasm=function(){return(s._ts_node_prev_named_sibling_wasm=s.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},s._ts_node_parent_wasm=function(){return(s._ts_node_parent_wasm=s.asm.ts_node_parent_wasm).apply(null,arguments)},s._ts_node_descendant_for_index_wasm=function(){return(s._ts_node_descendant_for_index_wasm=s.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},s._ts_node_named_descendant_for_index_wasm=function(){return(s._ts_node_named_descendant_for_index_wasm=s.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},s._ts_node_descendant_for_position_wasm=function(){return(s._ts_node_descendant_for_position_wasm=s.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},s._ts_node_named_descendant_for_position_wasm=function(){return(s._ts_node_named_descendant_for_position_wasm=s.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},s._ts_node_start_point_wasm=function(){return(s._ts_node_start_point_wasm=s.asm.ts_node_start_point_wasm).apply(null,arguments)},s._ts_node_end_point_wasm=function(){return(s._ts_node_end_point_wasm=s.asm.ts_node_end_point_wasm).apply(null,arguments)},s._ts_node_start_index_wasm=function(){return(s._ts_node_start_index_wasm=s.asm.ts_node_start_index_wasm).apply(null,arguments)},s._ts_node_end_index_wasm=function(){return(s._ts_node_end_index_wasm=s.asm.ts_node_end_index_wasm).apply(null,arguments)},s._ts_node_to_string_wasm=function(){return(s._ts_node_to_string_wasm=s.asm.ts_node_to_string_wasm).apply(null,arguments)},s._ts_node_children_wasm=function(){return(s._ts_node_children_wasm=s.asm.ts_node_children_wasm).apply(null,arguments)},s._ts_node_named_children_wasm=function(){return(s._ts_node_named_children_wasm=s.asm.ts_node_named_children_wasm).apply(null,arguments)},s._ts_node_descendants_of_type_wasm=function(){return(s._ts_node_descendants_of_type_wasm=s.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},s._ts_node_is_named_wasm=function(){return(s._ts_node_is_named_wasm=s.asm.ts_node_is_named_wasm).apply(null,arguments)},s._ts_node_has_changes_wasm=function(){return(s._ts_node_has_changes_wasm=s.asm.ts_node_has_changes_wasm).apply(null,arguments)},s._ts_node_has_error_wasm=function(){return(s._ts_node_has_error_wasm=s.asm.ts_node_has_error_wasm).apply(null,arguments)},s._ts_node_is_missing_wasm=function(){return(s._ts_node_is_missing_wasm=s.asm.ts_node_is_missing_wasm).apply(null,arguments)},s._ts_query_matches_wasm=function(){return(s._ts_query_matches_wasm=s.asm.ts_query_matches_wasm).apply(null,arguments)},s._ts_query_captures_wasm=function(){return(s._ts_query_captures_wasm=s.asm.ts_query_captures_wasm).apply(null,arguments)},s._towupper=function(){return(s._towupper=s.asm.towupper).apply(null,arguments)},s._iswalpha=function(){return(s._iswalpha=s.asm.iswalpha).apply(null,arguments)},s._iswlower=function(){return(s._iswlower=s.asm.iswlower).apply(null,arguments)},s._iswdigit=function(){return(s._iswdigit=s.asm.iswdigit).apply(null,arguments)},s._memchr=function(){return(s._memchr=s.asm.memchr).apply(null,arguments)},s.___errno_location=function(){return(Ge=s.___errno_location=s.asm.__errno_location).apply(null,arguments)}),He=(s._strlen=function(){return(s._strlen=s.asm.strlen).apply(null,arguments)},s.stackSave=function(){return(He=s.stackSave=s.asm.stackSave).apply(null,arguments)}),Be=s.stackRestore=function(){return(Be=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},Ke=s.stackAlloc=function(){return(Ke=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)},Ve=s._setThrew=function(){return(Ve=s._setThrew=s.asm.setThrew).apply(null,arguments)};s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},s.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(s.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=s.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=s.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=s.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},s.__Znwm=function(){return(s.__Znwm=s.asm._Znwm).apply(null,arguments)},s.__ZdlPv=function(){return(s.__ZdlPv=s.asm._ZdlPv).apply(null,arguments)},s.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(s.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=s.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},s._orig$ts_parser_timeout_micros=function(){return(s._orig$ts_parser_timeout_micros=s.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},s._orig$ts_parser_set_timeout_micros=function(){return(s._orig$ts_parser_set_timeout_micros=s.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};function Xe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}s.allocate=function(e,t){var r;return r=t==L?Ke(e.length):ze(e.length),e.subarray||e.slice?Z.set(e,r):Z.set(new Uint8Array(e),r),r};_e=function e(){Ue||Ye(),Ue||(_e=e)};var Qe=!1;function Ye(e){function t(){Ue||(Ue=!0,s.calledRun=!0,T||(re=!0,ye(J),ye(ee),r(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),et&&function(e){var t=s._main;if(t){var r=(e=e||[]).length+1,n=Ke(4*(r+1));$[n>>2]=K(l);for(var _=1;_<r;_++)$[(n>>2)+_]=K(e[_-1]);$[(n>>2)+r]=0;try{Je(t(r,n),!0)}catch(e){if(e instanceof Xe)return;if("unwind"==e)return;var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),b("exception thrown: "+a),c(1,e)}finally{!0}}}(e),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)e=s.postRun.shift(),te.unshift(e);var e;ye(te)}()))}e=e||u,ne>0||!Qe&&(function(){if(N.length){if(!h)return ae(),void N.reduce(function(e,t){return e.then(function(){return Te(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){ie(),Re()});N.forEach(function(e){Te(e,{global:!0,nodelete:!0,allowUndefined:!0})}),Re()}else Re()}(),Qe=!0,ne>0)||(!function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)e=s.preRun.shift(),Y.unshift(e);var e;ye(Y)}(),ne>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t()))}function Je(e,t){e,t&&Ee()&&0===e||(Ee()||(!0,s.onExit&&s.onExit(e),T=!0),c(e,new Xe(e)))}if(s.run=Ye,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();var et=!0;s.noInitialRun&&(et=!1),Ye();const tt=s,rt={},nt=4,st=5*nt,_t=2*nt,at=2*nt+2*_t,it={row:0,column:0},ot=/[\w-.]*/g,ut=1,lt=2,ct=/^_?tree_sitter_\w+/;var dt,mt,ft,pt,ht,gt=new Promise(e=>{s.onRuntimeInitialized=e}).then(()=>{ft=tt._ts_init(),dt=q(ft,"i32"),mt=q(ft+nt,"i32")});class Parser{static init(){return gt}constructor(){if(null==ft)throw new Error("You must first call Parser.init() and wait for it to resolve.");tt._ts_parser_new_wasm(),this[0]=q(ft,"i32"),this[1]=q(ft+nt,"i32")}delete(){tt._ts_parser_delete(this[0]),tt._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{t=e[0];const r=tt._ts_language_version(t);if(r<mt||dt<r)throw new Error(`Incompatible language version ${r}. `+`Compatibility range ${mt} through ${dt}.`)}}else t=0,e=null;return this.language=e,tt._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,r){if("string"==typeof e)pt=((t,r,n)=>e.slice(t,n));else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");pt=e}this.logCallback?(ht=this.logCallback,tt._ts_parser_enable_logger_wasm(this[0],1)):(ht=null,tt._ts_parser_enable_logger_wasm(this[0],0));let n=0,s=0;if(r&&r.includedRanges){n=r.includedRanges.length;let e=s=tt._calloc(n,at);for(let t=0;t<n;t++)Pt(e,r.includedRanges[t]),e+=at}const _=tt._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,n);if(!_)throw pt=null,ht=null,new Error("Parsing failed");const a=new Tree(rt,_,this.language,pt);return pt=null,ht=null,a}reset(){tt._ts_parser_reset(this[0])}setTimeoutMicros(e){tt._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return tt._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,r,n){bt(e),this[0]=t,this.language=r,this.textCallback=n}copy(){const e=tt._ts_tree_copy(this[0]);return new Tree(rt,e,this.language,this.textCallback)}delete(){tt._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=ft;xt(t,e.startPosition),xt(t+=_t,e.oldEndPosition),xt(t+=_t,e.newEndPosition),C(t+=_t,e.startIndex,"i32"),C(t+=nt,e.oldEndIndex,"i32"),C(t+=nt,e.newEndIndex,"i32"),t+=nt}(e),tt._ts_tree_edit_wasm(this[0])}get rootNode(){return tt._ts_tree_root_node_wasm(this[0]),It(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");tt._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=q(ft,"i32"),r=q(ft+nt,"i32"),n=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)n[r]=kt(e),e+=at;tt._free(r)}return n}}class Node{constructor(e,t){bt(e),this.tree=t}get typeId(){return Et(this),tt._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return Et(this),tt._ts_node_end_point_wasm(this.tree[0]),Nt(ft)}get endIndex(){return Et(this),tt._ts_node_end_index_wasm(this.tree[0])}get text(){return wt(this.tree,this.startIndex,this.endIndex)}isNamed(){return Et(this),1===tt._ts_node_is_named_wasm(this.tree[0])}hasError(){return Et(this),1===tt._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return Et(this),1===tt._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return Et(this),1===tt._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return Et(this),tt._ts_node_child_wasm(this.tree[0],e),It(this.tree)}namedChild(e){return Et(this),tt._ts_node_named_child_wasm(this.tree[0],e),It(this.tree)}childForFieldId(e){return Et(this),tt._ts_node_child_by_field_id_wasm(this.tree[0],e),It(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return Et(this),tt._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return Et(this),tt._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){Et(this),tt._ts_node_children_wasm(this.tree[0]);const e=q(ft,"i32"),t=q(ft+nt,"i32");if(this._children=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._children[t]=It(this.tree,r),r+=st;tt._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){Et(this),tt._ts_node_named_children_wasm(this.tree[0]);const e=q(ft,"i32"),t=q(ft+nt,"i32");if(this._namedChildren=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._namedChildren[t]=It(this.tree,r),r+=st;tt._free(t)}}return this._namedChildren}descendantsOfType(e,t,r){Array.isArray(e)||(e=[e]),t||(t=it),r||(r=it);const n=[],s=this.tree.language.types;for(let t=0,r=s.length;t<r;t++)e.includes(s[t])&&n.push(t);const _=tt._malloc(nt*n.length);for(let e=0,t=n.length;e<t;e++)C(_+e*nt,n[e],"i32");Et(this),tt._ts_node_descendants_of_type_wasm(this.tree[0],_,n.length,t.row,t.column,r.row,r.column);const a=q(ft,"i32"),i=q(ft+nt,"i32"),o=new Array(a);if(a>0){let e=i;for(let t=0;t<a;t++)o[t]=It(this.tree,e),e+=st}return tt._free(i),tt._free(_),o}get nextSibling(){return Et(this),tt._ts_node_next_sibling_wasm(this.tree[0]),It(this.tree)}get previousSibling(){return Et(this),tt._ts_node_prev_sibling_wasm(this.tree[0]),It(this.tree)}get nextNamedSibling(){return Et(this),tt._ts_node_next_named_sibling_wasm(this.tree[0]),It(this.tree)}get previousNamedSibling(){return Et(this),tt._ts_node_prev_named_sibling_wasm(this.tree[0]),It(this.tree)}get parent(){return Et(this),tt._ts_node_parent_wasm(this.tree[0]),It(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");Et(this);let r=ft+st;return C(r,e,"i32"),C(r+nt,t,"i32"),tt._ts_node_descendant_for_index_wasm(this.tree[0]),It(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");Et(this);let r=ft+st;return C(r,e,"i32"),C(r+nt,t,"i32"),tt._ts_node_named_descendant_for_index_wasm(this.tree[0]),It(this.tree)}descendantForPosition(e,t=e){if(!vt(e)||!vt(t))throw new Error("Arguments must be {row, column} objects");Et(this);let r=ft+st;return xt(r,e),xt(r+_t,t),tt._ts_node_descendant_for_position_wasm(this.tree[0]),It(this.tree)}namedDescendantForPosition(e,t=e){if(!vt(e)||!vt(t))throw new Error("Arguments must be {row, column} objects");Et(this);let r=ft+st;return xt(r,e),xt(r+_t,t),tt._ts_node_named_descendant_for_position_wasm(this.tree[0]),It(this.tree)}walk(){return Et(this),tt._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(rt,this.tree)}toString(){Et(this);const e=tt._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var r=Z[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}(e);return tt._free(e),t}}class TreeCursor{constructor(e,t){bt(e),this.tree=t,At(this)}delete(){St(this),tt._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){Et(e),St(this,ft+st),tt._ts_tree_cursor_reset_wasm(this.tree[0]),At(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return St(this),tt._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return St(this),tt._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return St(this),1===tt._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return St(this),1===tt._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){St(this);const e=tt._ts_tree_cursor_start_index_wasm(this.tree[0]),t=tt._ts_tree_cursor_end_index_wasm(this.tree[0]);return wt(this.tree,e,t)}get startPosition(){return St(this),tt._ts_tree_cursor_start_position_wasm(this.tree[0]),Nt(ft)}get endPosition(){return St(this),tt._ts_tree_cursor_end_position_wasm(this.tree[0]),Nt(ft)}get startIndex(){return St(this),tt._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return St(this),tt._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return St(this),tt._ts_tree_cursor_current_node_wasm(this.tree[0]),It(this.tree)}currentFieldId(){return St(this),tt._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){St(this);const e=tt._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return At(this),1===e}gotoNextSibling(){St(this);const e=tt._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return At(this),1===e}gotoParent(){St(this);const e=tt._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return At(this),1===e}}class Language{constructor(e,t){bt(e),this[0]=t,this.types=new Array(tt._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)tt._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=z(tt._ts_language_symbol_name(this[0],e)));this.fields=new Array(tt._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=tt._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?z(t):null}}get version(){return tt._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const r=B(e),n=tt._malloc(r+1);H(e,n,r+1);const s=tt._ts_language_symbol_for_name(this[0],n,r,t);return tt._free(n),s||null}get nodeTypeCount(){return tt._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=tt._ts_language_symbol_name(this[0],e);return t?z(t):null}nodeTypeIsNamed(e){return!!tt._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!tt._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=B(e),r=tt._malloc(t+1);H(e,r,t+1);const n=tt._ts_query_new(this[0],r,t,ft,ft+nt);if(!n){const t=q(ft+nt,"i32"),n=z(r,q(ft,"i32")).length,s=e.substr(n,100).split("\n")[0];let _,a=s.match(ot)[0];switch(t){case 2:_=new RangeError(`Bad node name '${a}'`);break;case 3:_=new RangeError(`Bad field name '${a}'`);break;case 4:_=new RangeError(`Bad capture name @${a}`);break;case 5:_=new TypeError(`Bad pattern structure at offset ${n}: '${s}'...`),a="";break;default:_=new SyntaxError(`Bad syntax at offset ${n}: '${s}'...`),a=""}throw _.index=n,_.length=a.length,tt._free(r),_}const s=tt._ts_query_string_count(n),_=tt._ts_query_capture_count(n),a=tt._ts_query_pattern_count(n),i=new Array(_),o=new Array(s);for(let e=0;e<_;e++){const t=tt._ts_query_capture_name_for_id(n,e,ft),r=q(ft,"i32");i[e]=z(t,r)}for(let e=0;e<s;e++){const t=tt._ts_query_string_value_for_id(n,e,ft),r=q(ft,"i32");o[e]=z(t,r)}const u=new Array(a),l=new Array(a),c=new Array(a),d=new Array(a),m=new Array(a);for(let e=0;e<a;e++){const t=tt._ts_query_predicates_for_pattern(n,e,ft),r=q(ft,"i32");d[e]=[],m[e]=[];const s=[];let _=t;for(let t=0;t<r;t++){const t=q(_,"i32"),r=q(_+=nt,"i32");if(_+=nt,t===ut)s.push({type:"capture",name:i[r]});else if(t===lt)s.push({type:"string",value:o[r]});else if(s.length>0){if("string"!==s[0].type)throw new Error("Predicates must begin with a literal value");const t=s[0].value;let r=!0;switch(t){case"not-eq?":r=!1;case"eq?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#eq?\` predicate. Expected 2, got ${s.length-1}`);if("capture"!==s[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${s[1].value}"`);if("capture"===s[2].type){const t=s[1].name,n=s[2].name;m[e].push(function(e){let s,_;for(const r of e)r.name===t&&(s=r.node),r.name===n&&(_=r.node);return s.text===_.text===r})}else{const t=s[1].name,n=s[2].value;m[e].push(function(e){for(const s of e)if(s.name===t)return s.node.text===n===r;return!1})}break;case"not-match?":r=!1;case"match?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${s.length-1}.`);if("capture"!==s[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${s[1].value}".`);if("string"!==s[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${s[2].value}.`);const n=s[1].name,_=new RegExp(s[2].value);m[e].push(function(e){for(const t of e)if(t.name===n)return _.test(t.node.text)===r;return!1});break;case"set!":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[e]||(u[e]={}),u[e][s[1].value]=s[2]?s[2].value:null;break;case"is?":case"is-not?":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const a="is?"===t?l:c;a[e]||(a[e]={}),a[e][s[1].value]=s[2]?s[2].value:null;break;default:d[e].push({operator:t,operands:s.slice(1)})}s.length=0}}Object.freeze(u[e]),Object.freeze(l[e]),Object.freeze(c[e])}return tt._free(r),new Query(rt,n,i,m,d,Object.freeze(u),Object.freeze(l),Object.freeze(c))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=require("fs");t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then(e=>e.arrayBuffer().then(t=>{if(e.ok)return new Uint8Array(t);{const r=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${r}`)}}))}const r="function"==typeof loadSideModule?loadSideModule:qe;return t.then(e=>r(e,{loadAsync:!0})).then(e=>{const t=Object.keys(e),r=t.find(e=>ct.test(e)&&!e.includes("external_scanner_"));r||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const n=e[r]();return new Language(rt,n)})}}class Query{constructor(e,t,r,n,s,_,a,i){bt(e),this[0]=t,this.captureNames=r,this.textPredicates=n,this.predicates=s,this.setProperties=_,this.assertedProperties=a,this.refutedProperties=i,this.exceededMatchLimit=!1}delete(){tt._ts_query_delete(this[0]),this[0]=0}matches(e,t,r,n){t||(t=it),r||(r=it),n||(n={});let s=n.matchLimit;if(void 0===s)s=0;else if("number"!=typeof s)throw new Error("Arguments must be numbers");Et(e),tt._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,s);const _=q(ft,"i32"),a=q(ft+nt,"i32"),i=q(ft+2*nt,"i32"),o=new Array(_);this.exceededMatchLimit=!!i;let u=0,l=a;for(let t=0;t<_;t++){const r=q(l,"i32"),n=q(l+=nt,"i32");l+=nt;const s=new Array(n);if(l=yt(this,e.tree,l,s),this.textPredicates[r].every(e=>e(s))){o[u++]={pattern:r,captures:s};const e=this.setProperties[r];e&&(o[t].setProperties=e);const n=this.assertedProperties[r];n&&(o[t].assertedProperties=n);const _=this.refutedProperties[r];_&&(o[t].refutedProperties=_)}}return o.length=u,tt._free(a),o}captures(e,t,r,n){t||(t=it),r||(r=it),n||(n={});let s=n.matchLimit;if(void 0===s)s=0;else if("number"!=typeof s)throw new Error("Arguments must be numbers");Et(e),tt._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,s);const _=q(ft,"i32"),a=q(ft+nt,"i32"),i=q(ft+2*nt,"i32"),o=[];this.exceededMatchLimit=!!i;const u=[];let l=a;for(let t=0;t<_;t++){const t=q(l,"i32"),r=q(l+=nt,"i32"),n=q(l+=nt,"i32");if(l+=nt,u.length=r,l=yt(this,e.tree,l,u),this.textPredicates[t].every(e=>e(u))){const e=u[n],r=this.setProperties[t];r&&(e.setProperties=r);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const _=this.refutedProperties[t];_&&(e.refutedProperties=_),o.push(e)}}return tt._free(a),o}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function wt(e,t,r){const n=r-t;let s=e.textCallback(t,null,r);for(t+=s.length;t<r;){const n=e.textCallback(t,null,r);if(!(n&&n.length>0))break;t+=n.length,s+=n}return t>r&&(s=s.slice(0,n)),s}function yt(e,t,r,n){for(let s=0,_=n.length;s<_;s++){const _=q(r,"i32"),a=It(t,r+=nt);r+=st,n[s]={name:e.captureNames[_],node:a}}return r}function bt(e){if(e!==rt)throw new Error("Illegal constructor")}function vt(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function Et(e){let t=ft;C(t,e.id,"i32"),C(t+=nt,e.startIndex,"i32"),C(t+=nt,e.startPosition.row,"i32"),C(t+=nt,e.startPosition.column,"i32"),C(t+=nt,e[0],"i32")}function It(e,t=ft){const r=q(t,"i32");if(0===r)return null;const n=q(t+=nt,"i32"),s=q(t+=nt,"i32"),_=q(t+=nt,"i32"),a=q(t+=nt,"i32"),i=new Node(rt,e);return i.id=r,i.startIndex=n,i.startPosition={row:s,column:_},i[0]=a,i}function St(e,t=ft){C(t+0*nt,e[0],"i32"),C(t+1*nt,e[1],"i32"),C(t+2*nt,e[2],"i32")}function At(e){e[0]=q(ft+0*nt,"i32"),e[1]=q(ft+1*nt,"i32"),e[2]=q(ft+2*nt,"i32")}function xt(e,t){C(e,t.row,"i32"),C(e+nt,t.column,"i32")}function Nt(e){return{row:q(e,"i32"),column:q(e+nt,"i32")}}function Pt(e,t){xt(e,t.startPosition),xt(e+=_t,t.endPosition),C(e+=_t,t.startIndex,"i32"),C(e+=nt,t.endIndex,"i32"),e+=nt}function kt(e){const t={};return t.startPosition=Nt(e),e+=_t,t.endPosition=Nt(e),e+=_t,t.startIndex=q(e,"i32"),e+=nt,t.endIndex=q(e,"i32"),t}return Parser.Language=Language,Parser.Parser=Parser,tt.Parser=Parser,t.ready}}();"object"==typeof exports&&"object"==typeof module?module.exports=TreeSitter:"function"==typeof define&&define.amd?define([],function(){return TreeSitter}):"object"==typeof exports&&(exports.TreeSitter=TreeSitter);
